var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,b){a instanceof String&&(a=String(a));for(var f=a.length,d=0;d<f;d++){var c=a[d];if(e.call(b,c,d,a))return{i:d,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,b){a!=Array.prototype&&a!=Object.prototype&&(a[e]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,b,f){if(e){b=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var d=a[f];d in b||(b[d]={});b=b[d]}a=a[a.length-1];f=b[a];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
!function(a,e,b,f){XF.ThreadEditForm=XF.Element.newHandler({options:{itemSelector:null},$item:null,$inlineEdit:null,init:function(){this.$item=a(this.options.itemSelector);this.$item.length&&(this.$target.on("ajax-submit:before",XF.proxy(this,"beforeSubmit")),this.$target.on("ajax-submit:response",XF.proxy(this,"afterSubmit")),this.$inlineEdit=a('<input type="hidden" name="_xfInlineEdit" value="1" />'))},beforeSubmit:function(){this.$target.append(this.$inlineEdit)},afterSubmit:function(a,c){if(!c.errors&&
!c.exception){a.preventDefault();c.message&&XF.flashMessage(c.message,3E3);var d=this;XF.setupHtmlInsert(c.html,function(a,c,b){d.$item.replaceWith(a);b()});XF.hideParentOverlay(this.$target)}}});XF.QuickThread=XF.Element.newHandler({options:{focusActivate:".js-titleInput",focusActivateTarget:".js-quickThreadFields",focusActivateHref:null,insertTarget:".js-threadList",replaceTarget:".js-emptyThreadList"},xfInserter:null,activated:!1,loading:!1,init:function(){var d=this,c=a(this.options.focusActivate);
c.length&&(this.xfInserter=new XF.Inserter(c,{href:this.options.focusActivateHref,replace:this.options.focusActivateTarget,afterLoad:function(){setTimeout(function(){d.activated=!0;d.$target.trigger("draft:sync")},500)}}),c.on("focus",XF.proxy(function(c){if(a(this.options.replace).is(":empty")){var b={},e=d.$target.find(".js-prefixSelect");e.length&&(b.prefix_id=e.val());this.onEvent(c,b)}},this.xfInserter)));this.$target.on("ajax-submit:response",XF.proxy(this,"afterSubmit")).on("reset",XF.proxy(this,
"reset"));this.$target.on("draft:beforesave",function(a){d.activated||a.preventDefault()})},afterSubmit:function(d,c){if(!this.loading)if(this.loading=!0,c.errors||c.exception)this.loading=!1;else{d.preventDefault();c.redirect&&XF.redirect(c.redirect);var b=this;XF.setupHtmlInsert(c.html,function(c){XF.hideTooltips();c.hide();a(b.options.insertTarget)["asc"==b.options.direction?"append":"prepend"](c);a(b.options.replaceTarget).replaceWith(c);b.reset(null,function(){c.xfFadeDown();var a=b.$target.closest(".block-container").offset().top-
60;XF.smoothScroll(a,!1,null,!0);b.loading=!1})})}},reset:function(b,c){var d=a(this.options.focusActivateTarget),e=this;XF.hideTooltips();d.xfFadeUp(null,XF.proxy(function(){e.activated=!1;d.empty();b&&"reset"==b.type||this.$target.get(0).reset();"function"==typeof c&&c()},this))}});XF.Element.register("thread-edit-form","XF.ThreadEditForm");XF.Element.register("quick-thread","XF.QuickThread")}(jQuery,window,document);
